!function(){"use strict";sigma.utils.pkg("sigma.canvas.edgehovers"),sigma.canvas.edgehovers.curve=function(e,o,t,i,a){var r=e.color,l=a("prefix")||"",s=a("edgeHoverSizeRatio")*(e[l+"size"]||1),d=e.count||0,n=a("edgeColor"),g=a("defaultNodeColor"),c=a("defaultEdgeColor"),u={},f=o[l+"size"],v=o[l+"x"],y=o[l+"y"],x=t[l+"x"],h=t[l+"y"];if(u=o.id===t.id?sigma.utils.getSelfLoopControlPoints(v,y,f,d):sigma.utils.getQuadraticControlPoint(v,y,x,h,d),!r)switch(n){case"source":r=o.color||g;break;case"target":r=t.color||g;break;default:r=c}r="edge"===a("edgeHoverColor")?e.hover_color||r:e.hover_color||a("defaultEdgeHoverColor")||r,i.strokeStyle=r,i.lineWidth=s,i.beginPath(),i.moveTo(v,y),o.id===t.id?i.bezierCurveTo(u.x1,u.y1,u.x2,u.y2,x,h):i.quadraticCurveTo(u.x,u.y,x,h),i.stroke()}}(),function(){"use strict";sigma.utils.pkg("sigma.canvas.edgehovers"),sigma.canvas.edgehovers.curvedArrow=function(e,o,t,i,a){var r,l,s,d,n,g,c=e.color,u=a("prefix")||"",f=a("edgeColor"),v=a("defaultNodeColor"),y=a("defaultEdgeColor"),x={},h=a("edgeHoverSizeRatio")*(e[u+"size"]||1),C=e.count||0,m=t[u+"size"],b=o[u+"x"],p=o[u+"y"],P=t[u+"x"],S=t[u+"y"];if(x=o.id===t.id?sigma.utils.getSelfLoopControlPoints(b,p,m,C):sigma.utils.getQuadraticControlPoint(b,p,P,S,C),o.id===t.id?(r=Math.sqrt(Math.pow(P-x.x1,2)+Math.pow(S-x.y1,2)),l=2.5*h,s=x.x1+(P-x.x1)*(r-l-m)/r,d=x.y1+(S-x.y1)*(r-l-m)/r,n=(P-x.x1)*l/r,g=(S-x.y1)*l/r):(r=Math.sqrt(Math.pow(P-x.x,2)+Math.pow(S-x.y,2)),l=2.5*h,s=x.x+(P-x.x)*(r-l-m)/r,d=x.y+(S-x.y)*(r-l-m)/r,n=(P-x.x)*l/r,g=(S-x.y)*l/r),!c)switch(f){case"source":c=o.color||v;break;case"target":c=t.color||v;break;default:c=y}c="edge"===a("edgeHoverColor")?e.hover_color||c:e.hover_color||a("defaultEdgeHoverColor")||c,i.strokeStyle=c,i.lineWidth=h,i.beginPath(),i.moveTo(b,p),o.id===t.id?i.bezierCurveTo(x.x2,x.y2,x.x1,x.y1,s,d):i.quadraticCurveTo(x.x,x.y,s,d),i.stroke(),i.fillStyle=c,i.beginPath(),i.moveTo(s+n,d+g),i.lineTo(s+.6*g,d-.6*n),i.lineTo(s-.6*g,d+.6*n),i.lineTo(s+n,d+g),i.closePath(),i.fill()}}(),function(){"use strict";sigma.utils.pkg("sigma.canvas.edges"),sigma.canvas.edges.curve=function(e,o,t,i,a){var r=e.color,l=a("prefix")||"",s=e[l+"size"]||1,d=e.count||0,n=a("edgeColor"),g=a("defaultNodeColor"),c=a("defaultEdgeColor"),u={},f=o[l+"size"],v=o[l+"x"],y=o[l+"y"],x=t[l+"x"],h=t[l+"y"];if(u=o.id===t.id?sigma.utils.getSelfLoopControlPoints(v,y,f,d):sigma.utils.getQuadraticControlPoint(v,y,x,h,d),!r)switch(n){case"source":r=o.color||g;break;case"target":r=t.color||g;break;default:r=c}i.strokeStyle=r,i.lineWidth=s,i.beginPath(),i.moveTo(v,y),o.id===t.id?i.bezierCurveTo(u.x1,u.y1,u.x2,u.y2,x,h):i.quadraticCurveTo(u.x,u.y,x,h),i.stroke()}}(),function(){"use strict";sigma.utils.pkg("sigma.canvas.edges"),sigma.canvas.edges.curvedArrow=function(e,o,t,i,a){var r,l,s,d,n,g=e.color,c=a("prefix")||"",u=a("edgeColor"),f=a("defaultNodeColor"),v=a("defaultEdgeColor"),y={},x=e[c+"size"]||1,h=e.count||0,C=t[c+"size"],m=o[c+"x"],b=o[c+"y"],p=t[c+"x"],P=t[c+"y"],S=Math.max(2.5*x,a("minArrowSize"));if(y=o.id===t.id?sigma.utils.getSelfLoopControlPoints(m,b,C,h):sigma.utils.getQuadraticControlPoint(m,b,p,P,h),o.id===t.id?(r=Math.sqrt(Math.pow(p-y.x1,2)+Math.pow(P-y.y1,2)),l=y.x1+(p-y.x1)*(r-S-C)/r,s=y.y1+(P-y.y1)*(r-S-C)/r,d=(p-y.x1)*S/r,n=(P-y.y1)*S/r):(r=Math.sqrt(Math.pow(p-y.x,2)+Math.pow(P-y.y,2)),l=y.x+(p-y.x)*(r-S-C)/r,s=y.y+(P-y.y)*(r-S-C)/r,d=(p-y.x)*S/r,n=(P-y.y)*S/r),!g)switch(u){case"source":g=o.color||f;break;case"target":g=t.color||f;break;default:g=v}i.strokeStyle=g,i.lineWidth=x,i.beginPath(),i.moveTo(m,b),o.id===t.id?i.bezierCurveTo(y.x2,y.y2,y.x1,y.y1,l,s):i.quadraticCurveTo(y.x,y.y,l,s),i.stroke(),i.fillStyle=g,i.beginPath(),i.moveTo(l+d,s+n),i.lineTo(l+.6*n,s-.6*d),i.lineTo(l-.6*n,s+.6*d),i.lineTo(l+d,s+n),i.closePath(),i.fill()}}(),function(){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.canvas.edges.labels"),sigma.canvas.edges.labels.curve=function(e,o,t,i,a){if("string"==typeof e.label){var r=a("prefix")||"",l=e[r+"size"]||1;if(!(l<a("edgeLabelThreshold"))){var s,d,n,g=o[r+"size"],c=e.count||0,u=o[r+"x"],f=o[r+"y"],v=t[r+"x"],y=t[r+"y"],x=v-u,h=y-f,C=v>u?1:-1,m={},b=.5;o.id===t.id?(m=sigma.utils.getSelfLoopControlPoints(u,f,g,c),d=sigma.utils.getPointOnBezierCurve(b,u,f,v,y,m.x1,m.y1,m.x2,m.y2),n=Math.atan2(1,1)):(m=sigma.utils.getQuadraticControlPoint(u,f,v,y,c),d=sigma.utils.getPointOnQuadraticCurve(b,u,f,v,y,m.x,m.y),n=Math.atan2(h*C,x*C)),s="fixed"===a("edgeLabelSize")?a("defaultEdgeLabelSize"):a("defaultEdgeLabelSize")*l*Math.pow(l,-1/a("edgeLabelSizePowRatio")),i.save(),e.active?(i.font=[a("activeFontStyle"),s+"px",a("activeFont")||a("font")].join(" "),i.fillStyle="edge"===a("edgeActiveColor")?e.active_color||a("defaultEdgeActiveColor"):a("defaultEdgeLabelActiveColor")):(i.font=[a("fontStyle"),s+"px",a("font")].join(" "),i.fillStyle="edge"===a("edgeLabelColor")?e.color||a("defaultEdgeColor"):a("defaultEdgeLabelColor")),i.textAlign="center",i.textBaseline="alphabetic",i.translate(d.x,d.y),i.rotate(n),i.fillText(e.label,0,-l/2-3),i.restore()}}}}.call(this),function(){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils=sigma.utils||{},sigma.utils.getQuadraticControlPoint=function(e,o,t,i,a){return a=a||0,{x:(e+t)/2+(i-o)/(60/(15+a)),y:(o+i)/2+(e-t)/(60/(15+a))}},sigma.utils.getSelfLoopControlPoints=function(e,o,t,i){return i=i||0,{x1:e-7*(t+i),y1:o,x2:e,y2:o+7*(t+i)}}}.call(this);